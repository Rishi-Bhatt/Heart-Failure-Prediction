\begin{figure*}[ht]
\centering
\resizebox{\textwidth}{!}{%
\begin{tikzpicture}[node distance=2cm, auto, thick]
% Define styles
\tikzstyle{block} = [rectangle, draw, fill=blue!10, text width=6em, text centered, rounded corners, minimum height=3em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse, fill=red!10, node distance=3cm, minimum height=2em]

% Place nodes
\node [block] (input) {Patient Data Input};
\node [block, right=of input] (preproc) {Data Preprocessing};
\node [block, right=of preproc] (feature) {Feature Engineering};
\node [block, below=of feature] (temporal) {Temporal Feature Extraction};
\node [block, left=of temporal] (history) {Patient History Retrieval};
\node [block, left=of history] (storage) {Longitudinal Data Storage};
\node [block, below=of storage] (integration) {Data Integration Layer};
\node [block, right=3cm of integration] (hybrid) {Hybrid Model Prediction};
\node [block, below=of hybrid] (current) {Current Risk Assessment};
\node [block, left=of current] (trend) {Trend Analysis \& Extrapolation};
\node [block, left=of trend] (forecast) {Risk Forecasting Module};
\node [block, below=of forecast] (intervention) {Intervention Impact Modeling};
\node [block, right=of intervention] (confidence) {Confidence Interval Calculation};
\node [block, right=of confidence] (explanation) {Explanation Generation};
\node [block, below=of explanation] (viz) {Visualization Engine};
\node [block, right=of viz] (ui) {User Interface Presentation};
\node [block, right=of ui] (decision) {Clinical Decision Support};

% Draw edges
\path [line] (input) -- (preproc);
\path [line] (preproc) -- (feature);
\path [line] (feature) -- (temporal);
\path [line] (temporal) -- (history);
\path [line] (history) -- (storage);
\path [line] (storage) -- (integration);
\path [line] (integration) -- (hybrid);
\path [line] (hybrid) -- (current);
\path [line] (current) -- (trend);
\path [line] (trend) -- (forecast);
\path [line] (forecast) -- (intervention);
\path [line] (intervention) -- (confidence);
\path [line] (confidence) -- (explanation);
\path [line] (explanation) -- (viz);
\path [line] (viz) -- (ui);
\path [line] (ui) -- (decision);

% Additional connections
\path [line] (storage) to [bend right=30] (forecast);
\path [line] (temporal) to [bend left=30] (hybrid);

% Labels
\node [above=0.1cm of input, align=center] {Data Acquisition};
\node [above=0.1cm of feature, align=center] {Feature Processing};
\node [left=0.1cm of storage, align=center] {Longitudinal\\Management};
\node [above=0.1cm of hybrid, align=center] {Prediction Pipeline};
\node [left=0.1cm of forecast, align=center] {Risk\\Forecasting};
\node [below=0.1cm of viz, align=center] {Explanation \& Visualization};

\end{tikzpicture}
}
\caption{Heart Failure Prediction System: Data Flow and Processing Pipeline}
\label{fig:system-flowchart}
\end{figure*}
